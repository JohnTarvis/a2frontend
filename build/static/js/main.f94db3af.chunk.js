(this["webpackJsonpjobly-frontend"]=this["webpackJsonpjobly-frontend"]||[]).push([[0],{115:function(e,t,a){},199:function(e,t,a){e.exports=a.p+"static/media/picunrel.998da47a.jpeg"},212:function(e,t,a){e.exports=a(455)},217:function(e,t,a){},219:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},272:function(e,t){},273:function(e,t){},278:function(e,t){},280:function(e,t){},317:function(e,t){},322:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=322},332:function(e,t){},334:function(e,t){},362:function(e,t){},364:function(e,t){},365:function(e,t){},370:function(e,t){},372:function(e,t){},378:function(e,t){},380:function(e,t){},399:function(e,t){},411:function(e,t){},414:function(e,t){},434:function(e,t,a){},435:function(e,t,a){},436:function(e,t,a){},437:function(e,t,a){},438:function(e,t,a){},455:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(208),c=a.n(s),o=(a(217),a(20)),l=a(1),u=a.n(l),i=a(3),m=a(7),p=a(10);var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=localStorage.getItem(e)||t,r=Object(n.useState)(a),s=Object(m.a)(r,2),c=s[0],o=s[1];return Object(n.useEffect)((function(){console.debug("hooks useLocalStorage useEffect","item=",c),null===c?localStorage.removeItem(e):localStorage.setItem(e,c)}),[e,c]),[c,o]},d=r.a.createContext(),v=(a(219),function(e){var t=e.color;return r.a.createElement("hr",{style:{color:t,backgroundColor:t,height:1}})});var h=function(e){var t=e.logout,a=Object(n.useContext)(d).anon;return r.a.createElement("div",{className:"navbar-extra"},r.a.createElement("nav",{className:"Navigation navbar navbar-expand-md"},r.a.createElement(p.b,{className:"navbar-brand",to:"/"},"A2"),a?r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item mr-4"},r.a.createElement(p.c,{className:"nav-link",to:"/new-post"},"Create Post")),r.a.createElement("li",{className:"nav-item mr-4"},r.a.createElement(p.c,{className:"nav-link",to:"/profile"},"Profile")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{className:"nav-link",to:"/",onClick:t},"Log out ",a.first_name||a.anonname))):r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item mr-4"},r.a.createElement(p.c,{className:"nav-link",to:"/new-post"},"Create Post")),r.a.createElement("li",{className:"nav-item mr-4"},r.a.createElement(p.c,{className:"nav-link",to:"/login"},"Login")),r.a.createElement("li",{className:"nav-item mr-4"},r.a.createElement(p.c,{className:"nav-link",to:"/register"},"Register")))))},g=a(9);a(115),a(224),a(225),a(226);var b=function(){return r.a.createElement("div",{className:"LoadingSpinner"},"Loading ...")},E=r.a.createContext(),y=a(12),w=a.n(y),j=a(43),O=a(44),N=function(){function e(){Object(j.a)(this,e)}return Object(O.a)(e,null,[{key:"getTags",value:function(){return w()(".tag")}},{key:"getThreadPreviews",value:function(){return w()(".ThreadPreview")}},{key:"tagInclusion",value:function(e){return e.className}},{key:"tag",value:function(e){return e.innerHTML}},{key:"hasTag",value:function(e,t){return e.querySelector(".pc-tags").innerHTML.split(/\W+/).includes(this.tag(t))}},{key:"toggle",value:function(e){if(this.isTagElement(e)){var t=e.className,a=this.toggles.indexOf(t),n=a+1>2?0:a+1,r=this.toggles[n];e.className=r,this.displaySelected()}}},{key:"displaySelected",value:function(){w()(".ThreadPreview").show();var e,t=this.getThreadPreviews(),a=w()(".excluded"),n=w()(".included"),r=(w()(".neutral"),w()(".tag"),Object(o.a)(n));try{for(r.s();!(e=r.n()).done;){var s,c=e.value,l=Object(o.a)(t);try{for(l.s();!(s=l.n()).done;){var u=s.value;this.hasTag(u,c)?w()(u).show():w()(u).hide()}}catch(h){l.e(h)}finally{l.f()}}}catch(h){r.e(h)}finally{r.f()}var i,m=Object(o.a)(a);try{for(m.s();!(i=m.n()).done;){var p,f=i.value,d=Object(o.a)(t);try{for(d.s();!(p=d.n()).done;){var v=p.value;this.hasTag(v,f)?w()(v).hide():w()(v).show()}}catch(h){d.e(h)}finally{d.f()}}}catch(h){m.e(h)}finally{m.f()}}},{key:"showAllThreadPreviews",value:function(){w()(".ThreadPreview").show()}},{key:"isTagElement",value:function(e){return this.toggles.includes(e.className)}},{key:"shouldBeIncluded",value:function(e){return this.toggles.indexOf(e.className)-1}},{key:"shouldHaveTag",value:function(e){return this.toggles.indexOf(e.className)-1}},{key:"_hasTag",value:function(e,t){return e.querySelector(".pc-tags").innerHTML.split(/\W+/).includes(this.tag(t))?1:-1}},{key:"shouldShow",value:function(e,t){var a=!0;return(-1===this.shouldHaveTag(e)&&1===this.hasTag(t,e)||1===this.shouldHaveTag(e)&&-1===this.hasTag(t,e))&&(a=!1),a}},{key:"filterThreadPreviews",value:function(e){this.showAllThreadPreviews();var t,a=document.querySelectorAll(".ThreadPreview"),n=Object(o.a)(a);try{for(n.s();!(t=n.n()).done;){var r=t.value,s=this.shouldShow(e,r);console.log("ThreadPreview ".concat(r.id," shouldShow?: ").concat(s)),s?w()(r).show():w()(r).hide(),console.log("ThreadPreview ".concat(r.id," is showing?: ").concat(w()(r).is(":visible")))}}catch(c){n.e(c)}finally{n.f()}}}]),e}();N.toggles=["tag excluded","tag neutral","tag included"];var k=N,x=a(78),P=a.n(x),C=a(244),S=a(433);C.use(S);var _=function(){function e(){Object(j.a)(this,e)}return Object(O.a)(e,null,[{key:"request",value:function(){var t=Object(i.a)(u.a.mark((function t(a){var n,r,s,c,o,l,i=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2&&void 0!==i[2]?i[2]:"get",s="".concat("https://damp-island-15072.herokuapp.com","/").concat(a),c={Authorization:"Bearer ".concat(e.token),"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"},o="get"===r?n:{},t.prev=5,t.next=8,P()({url:s,method:r,data:n,params:o,headers:c});case 8:return t.abrupt("return",t.sent.data);case 11:throw t.prev=11,t.t0=t.catch(5),console.error("API Error:",t.t0.response),l=t.t0.response.data.error.message,Array.isArray(l)?l:[l];case 16:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getThreads",value:function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("post/",t);case 2:return a=e.sent,e.abrupt("return",a.posts);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createThread",value:function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("post/",t,"post");case 2:return a=e.sent,e.abrupt("return",a.posts);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteAllPosts",value:function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("post/",{},"delete");case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAnon",value:function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("anon/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.anon);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/token",t,"post");case 2:return a=e.sent,e.abrupt("return",a.token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/register",t,"post");case 2:return a=e.sent,e.abrupt("return",a.token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveProfile",value:function(){var e=Object(i.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("anon/".concat(t),a,"patch");case 2:return n=e.sent,e.abrupt("return",n.anon);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteAllAnons",value:function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("anon/",{},"delete");case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTags",value:function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("tag/",{tag:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createTag",value:function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("tag/",{tag:t},"post");case 2:e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteAllTags",value:function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("tag/",{},"delete");case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();var A=function(){var e=Object(n.useContext)(E),t=(e.allPosts,e.setAllPosts,Object(n.useState)(null)),a=Object(m.a)(t,2),s=a[0],c=a[1],l=Object(n.useState)(null),p=Object(m.a)(l,2),f=(p[0],p[1]),d=Object(n.useState)(null),h=Object(m.a)(d,2);function g(){return(g=Object(i.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.getTags(t);case 2:(a=e.sent).tags.sort((function(e,t){return e.tag>t.tag?1:-1})),n=a.tags,c(n),f(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){var t=e.target;if(k.toggle(t),"tag"==t.className){var a,n=t.innerHTML,r=document.querySelectorAll(".ThreadPreview"),s=Object(o.a)(r);try{for(s.s();!(a=s.n()).done;){var c=a.value;c.id;c.querySelector(".pc-tags").innerHTML.split(/\W+/).includes(n)||w()(c).hide()}}catch(l){s.e(l)}finally{s.f()}}}function j(){return(j=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.id,y(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return h[0],h[1],Object(n.useEffect)((function(){!function(e){g.apply(this,arguments)}()}),[]),s?r.a.createElement("div",{className:"tag-list",style:{height:window.outerHeight},onClick:function(e){return function(e){return j.apply(this,arguments)}(e)}},r.a.createElement("h3",{id:"test-click"},"Popular Tags"),r.a.createElement(v,{color:"white"}),s.map((function(e){return r.a.createElement("div",{className:"tag neutral",key:e.id,id:"tag-"+e.tag},e.tag)}))):r.a.createElement(b,null)};a(434);a(199),a(435);var T=function(e){return r.a.createElement("div",{className:"ThreadPreview",id:"ThreadPreview-".concat(e.id)},r.a.createElement("div",null,r.a.createElement("img",{src:"https://a2uploads.s3.us-west-1.amazonaws.com/unrelated.jpg",alt:"",className:"post-image-preview"})),r.a.createElement(v,{color:"white"}),r.a.createElement("div",{className:"image-subject"},e.post_subject),r.a.createElement(v,{color:"white"}),r.a.createElement("small",null,r.a.createElement("div",{className:"centered"},"posted by : ",e.poster_handle),r.a.createElement("div",{className:"centered"},"posted at: ",e.post_date),r.a.createElement("div",{className:"centered pc-tags"},"tags : ",e.post_tags)),r.a.createElement("div",null,e.admin_post),r.a.createElement("div",null,e.reply_to))};a(436),a(437);var q=function(){return r.a.createElement("div",{className:"top-banner"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("h1",{className:"mb-4 font-weight-bold"},"Anons Anonymous"),r.a.createElement("p",{className:"lead"},"anti-social networking")))};var L=function(){var e=Object(n.useContext)(E),t=e.allPosts,a=e.setAllPosts;function s(){return(s=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.getThreads(t);case 2:n=e.sent,a(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(e){s.apply(this,arguments)}()}),[]);var c=Object(g.g)();return t?r.a.createElement("div",{className:"main-view"},r.a.createElement(q,null),r.a.createElement("div",{className:"posts-display"},r.a.createElement("div",{onClick:function(e){return function(e){for(var t=e.target,a=99;"ThreadPreview"!=t.className&&a>0;)a--,t=t.parentNode;var n=t.id.slice(9);c.push("/posts/".concat(n))}(e)}},t.map((function(e){return r.a.createElement(T,{key:e.id,post_date:e.post_date,poster_handle:e.poster_handle,post_body:e.post_body,post_subject:e.post_subject,post_tags:e.post_tags,admin_post:e.admin_post,reply_to:e.reply_to,image:e.image,id:e.id})}))),";")):r.a.createElement(b,null)};var H=function(e){var t=e.getAllPosts,a=(Object(n.useContext)(d).anon,Object(g.g)(),Object(n.useState)(null)),s=Object(m.a)(a,2),c=s[0],o=s[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"Landingpage"},r.a.createElement(E.Provider,{value:{allPosts:c,setAllPosts:o}},r.a.createElement(A,null),r.a.createElement("div",{className:"ThreadsDisplay-container"},r.a.createElement("div",null,r.a.createElement(L,{getAllPosts:t}))))))},D=a(30),M=a(25);var I=function(e){var t=e.type,a=void 0===t?"danger":t,n=e.messages,s=void 0===n?[]:n;return console.debug("Alert","type=",a,"messages=",s),r.a.createElement("div",{className:"alert alert-".concat(a),role:"alert"},s.map((function(e){return r.a.createElement("p",{className:"mb-0 small",key:e},e)})))};var F=function(e){var t=e.login,a=Object(g.g)(),s=Object(n.useState)({handle:"",password:""}),c=Object(m.a)(s,2),o=c[0],l=c[1],p=Object(n.useState)([]),f=Object(m.a)(p,2),d=f[0],v=f[1];function h(e){return b.apply(this,arguments)}function b(){return(b=Object(i.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(o);case 3:r=e.sent,console.log("loginResult= ",r),r.success?a.push("/"):v(r.errors);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(M.a)(Object(M.a)({},e),{},Object(D.a)({},a,n))}))}return console.debug("LoginForm","login=",typeof t,"formData=",o,"formErrors",d),r.a.createElement("div",{className:"LoginForm"},r.a.createElement("div",{className:"container col-md-6 offset-md-3 col-lg-4 offset-lg-4"},r.a.createElement("h3",{className:"mb-3"},"Log In"),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:h},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Handle"),r.a.createElement("input",{name:"handle",className:"form-control",value:o.handle,onChange:E,autoComplete:"handle",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",className:"form-control",value:o.password,onChange:E,autoComplete:"current-password",required:!0})),d.length?r.a.createElement(I,{type:"danger",messages:d}):null,r.a.createElement("button",{className:"btn btn-primary float-right",onSubmit:h},"Submit"))))))};var W=function(e){var t=e.register,a=Object(g.g)(),s=Object(n.useState)({handle:"john",password:"password",confirmPassword:"password",securityQuestion:"password",securityAnswer:"password"}),c=Object(m.a)(s,2),o=c[0],l=c[1],p=Object(n.useState)([]),f=Object(m.a)(p,2),d=f[0],v=f[1];function h(e){return b.apply(this,arguments)}function b(){return(b=Object(i.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(o);case 3:(r=e.sent).success?a.push("/"):v(r.errors);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(M.a)(Object(M.a)({},e),{},Object(D.a)({},a,n))}))}return console.debug("RegistrationForm","register=",typeof t,"formData=",o,"formErrors=",d),r.a.createElement("div",{className:"RegistrationForm"},r.a.createElement("div",{className:"container col-md-6 offset-md-3 col-lg-4 offset-lg-4"},r.a.createElement("h2",{className:"mb-3"},"Create Account"),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:h},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Handle"),r.a.createElement("input",{name:"handle",className:"form-control",value:o.handle,onChange:E})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",className:"form-control",value:o.password,onChange:E})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{type:"password",name:"confirmPassword",className:"form-control",value:o.confirmPassword,onChange:E})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Security Question ( for account recovery )"),r.a.createElement("input",{name:"securityQuestion",className:"form-control",value:o.securityQuestion,onChange:E})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Answer"),r.a.createElement("input",{name:"securityAnswer",className:"form-control",value:o.securityAnswer,onChange:E})),d.length?r.a.createElement(I,{type:"danger",messages:d}):null,r.a.createElement("button",{type:"submit",className:"btn btn-primary float-right",onSubmit:h},"Submit"))))))};function B(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a="",n=[],r=0;r<e;r++){for(var s=Math.floor(Math.random()*t);n.includes(s);)s=Math.floor(Math.random()*t);n.push(s)}for(var c=0;c<e;c++)a+="Tag".concat(n[c]," ");return a}var Q=function(e){var t=e.createThread,a=(Object(n.useContext)(d).anon,Object(g.g)()),s=Object(n.useState)({post_subject:"subject",post_body:"blah blah blah",post_tags:B()}),c=Object(m.a)(s,2),o=c[0],l=c[1],p=Object(n.useState)([]),f=Object(m.a)(p,2),v=f[0],h=f[1];function b(e){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(u.a.mark((function e(n){var r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=new Date,o.post_date=r,o.image=O.name,o.file=O,e.next=7,t(o);case 7:(s=e.sent).success?a.push("/"):h(s.errors);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(M.a)(Object(M.a)({},e),{},Object(D.a)({},a,n))}))}console.debug("NewThreadForm","createThread=",typeof t,"formData=",o,"formErrors=",v);var w=Object(n.useState)(null),j=Object(m.a)(w,2),O=j[0],N=j[1];return r.a.createElement("div",{className:"NewThreadForm"},r.a.createElement("div",{className:"container col-md-6 offset-md-3 col-lg-4 offset-lg-4"},r.a.createElement("h2",{className:"mb-3 text-primary"},"New Thread"),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:b},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Subject"),r.a.createElement("input",{name:"post_subject",className:"form-control",value:o.post_subject,onChange:y})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Body"),r.a.createElement("textarea",{rows:"10",cols:"10",name:"post_body",className:"form-control",value:o.post_body,onChange:y})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Tags"),r.a.createElement("input",{name:"post_tags",className:"form-control",value:o.post_tags,onChange:y})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Upload File"),r.a.createElement("input",{type:"file",name:"image",value:o.image,onChange:function(e){return N(e.target.files[0])}})),v.length?r.a.createElement(I,{type:"danger",messages:v}):null,r.a.createElement("button",{type:"submit",className:"btn btn-primary float-right",onSubmit:b},"Submit"))))))};a(438);var R=function(){var e=Object(g.h)().id,t=Object(n.useState)(null),a=Object(m.a)(t,2),s=a[0],c=a[1];function o(){return(o=Object(i.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.getThreads({id:e});case 2:a=t.sent,c(a);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]),s?r.a.createElement("div",{className:"post-page"},r.a.createElement("div",{className:"Post",id:"Post-".concat(s[0].id)},r.a.createElement("div",{className:"image-subject"},s.post_subject),r.a.createElement(v,{color:"white"}),r.a.createElement("div",null,r.a.createElement("img",{src:"https://a2uploads.s3.us-west-1.amazonaws.com/unrelated.jpg",alt:"",className:"post-image-preview"})),r.a.createElement(v,{color:"white"}),r.a.createElement("div",null,s[0].post_body),r.a.createElement(v,{color:"white"}),r.a.createElement("small",null,r.a.createElement("div",{className:"centered"},"posted by : ",s[0].poster_handle),r.a.createElement("div",{className:"centered"},"posted at: ",s[0].post_date),r.a.createElement("div",{className:"centered"},"tags : ",s[0].post_tags)),r.a.createElement("div",null,s[0].admin_post),r.a.createElement("div",null,s[0].reply_to))):r.a.createElement(b,null)};var U=function(e){var t=e.login,a=e.register,n=e.createThread,s=e.getAllPosts;return r.a.createElement("div",{className:"pt-5"},r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/"},r.a.createElement(H,{getAllPosts:s})),r.a.createElement(g.b,{exact:!0,path:"/login"},r.a.createElement(F,{login:t})),r.a.createElement(g.b,{exact:!0,path:"/register"},r.a.createElement(W,{register:a})),r.a.createElement(g.b,{exact:!0,path:"/new-post"},r.a.createElement(Q,{createThread:n})),r.a.createElement(g.b,{exact:!0,path:"/posts"},r.a.createElement(L,null)),r.a.createElement(g.b,{exact:!0,path:"/posts/:id"},r.a.createElement(R,null)),r.a.createElement(g.a,{to:"/"})))},z=a(211),J=a.n(z);var G=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],s=t[1],c=f("anonanon-token"),l=Object(m.a)(c,2),v=l[0],g=l[1],E=Object(n.useState)(!1),y=Object(m.a)(E,2),w=y[0],j=y[1];function O(){return(O=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.register(t);case 3:return a=e.sent,g(a),e.abrupt("return",{success:!0});case 8:return e.prev=8,e.t0=e.catch(0),console.error("register failed",e.t0),e.abrupt("return",{success:!1,errors:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function N(e){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(u.a.mark((function e(t){var a,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.split(/\W+/),n=Object(o.a)(a),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=17;break}return s=r.value,e.prev=6,e.next=9,_.createTag(s);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(6),console.log("failed to create tag: ",s),console.log("errors ",e.t0);case 15:e.next=4;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(2),n.e(e.t1);case 22:return e.prev=22,n.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[2,19,22,25],[6,11]])})))).apply(this,arguments)}function x(){return(x=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.poster_handle=a.handle||"anonymous",e.next=4,_.createThread(t);case 4:return e.next=6,N(t.post_tags);case 6:return e.abrupt("return",{success:!0});case 9:return e.prev=9,e.t0=e.catch(0),console.error("create post failed",e.t0),e.abrupt("return",{success:!1,errors:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function P(){return(P=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("login"),e.prev=1,e.next=4,_.login(t);case 4:return a=e.sent,g(a),e.abrupt("return",{success:!0});case 9:return e.prev=9,e.t0=e.catch(1),console.error("login failed",e.t0),e.abrupt("return",{success:!1,errors:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(i.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=14;break}return e.prev=1,t=J.a.decode(v),a=t.handle,_.token=v,e.next=6,_.getAnon(a);case 6:n=e.sent,s(n),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("App loadanonInfo: problem loading",e.t0),s(null);case 14:j(!0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}j(!1),function(){e.apply(this,arguments)}()}),[v]),w?r.a.createElement(p.a,null,r.a.createElement(d.Provider,{value:{anon:a,setAnon:s}},r.a.createElement("div",{className:"App"},r.a.createElement(h,{logout:function(){s(null),g(null)}}),r.a.createElement(U,{login:function(e){return P.apply(this,arguments)},register:function(e){return O.apply(this,arguments)},createThread:function(e){return x.apply(this,arguments)}})))):r.a.createElement(b,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[212,1,2]]]);
//# sourceMappingURL=main.f94db3af.chunk.js.map